(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3792:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(5155),o=a(2115);function i(){let[e,t]=(0,o.useState)([]),[a,i]=(0,o.useState)(""),[l,n]=(0,o.useState)(!1),[r,d]=(0,o.useState)("");async function c(){n(!0),d("");try{let e=await fetch("/api/todo"),a=await e.json();t(a)}catch(e){d("Failed to load todos")}finally{n(!1)}}async function x(e){if(e.preventDefault(),a.trim()){n(!0),d("");try{if(!(await fetch("/api/todo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:a})})).ok)throw Error("Failed to add todo");i(""),c()}catch(e){d("Failed to add todo")}finally{n(!1)}}}async function h(e){n(!0),d("");try{if(!(await fetch("/api/todo",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})).ok)throw Error("Failed to remove todo");c()}catch(e){d("Failed to remove todo")}finally{n(!1)}}return(0,o.useEffect)(()=>{c()},[]),(0,s.jsxs)("main",{className:"min-h-screen bg-gray-50 flex flex-col items-center py-12 px-4",children:[(0,s.jsxs)("div",{className:"w-full max-w-md bg-white rounded-xl shadow-lg p-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"My Todo List"}),(0,s.jsxs)("form",{onSubmit:x,className:"flex gap-2 mb-6",children:[(0,s.jsx)("input",{type:"text",className:"flex-1 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Add a new todo...",value:a,onChange:e=>i(e.target.value),disabled:l}),(0,s.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",disabled:l||!a.trim(),children:"Add"})]}),r&&(0,s.jsx)("div",{className:"text-red-500 mb-4 text-center",children:r}),(0,s.jsx)("ul",{className:"space-y-2",children:e.map(e=>(0,s.jsxs)("li",{className:"flex items-center justify-between bg-gray-100 rounded px-3 py-2",children:[(0,s.jsx)("span",{className:"text-gray-800",children:e.title}),(0,s.jsx)("button",{onClick:()=>h(e.id),className:"text-red-500 hover:text-red-700 transition",disabled:l,"aria-label":"Remove ".concat(e.title),children:"\xd7"})]},e.id))}),l&&(0,s.jsx)("div",{className:"text-gray-400 mt-4 text-center",children:"Loading..."}),!l&&0===e.length&&(0,s.jsx)("div",{className:"text-gray-400 mt-4 text-center",children:"No todos yet."})]}),(0,s.jsxs)("footer",{className:"mt-8 text-gray-400 text-sm",children:["\xa9 ",new Date().getFullYear()," My Todo List"]})]})}},5833:(e,t,a)=>{Promise.resolve().then(a.bind(a,3792))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(5833)),_N_E=e.O()}]);